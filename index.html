<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plot Mapping Tool</title>
    
    <!-- External CSS libraries -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    
    <!-- Your custom CSS -->
    <link rel="stylesheet" href="./style.css">

     
</head>
<body>
  <div class="intro-section" style="max-width: 1200px; margin: 0 auto; padding: 40px 20px; text-align: left;">
    <h1 style="font-family: 'IBM Plex Sans', sans-serif; font-weight: bold; color: #023ad9; font-size: 2.5rem; margin-bottom: 60px;">
        hello, welcome to Amatoria
    </h1>
    <br>
    <div style="font-family: 'IBM Plex Sans', sans-serif; font-weight: 700; color: #023ad9; font-size: 1.1rem; line-height: 1.6; margin-bottom: 40px;">
        <p><strong>Transform land development with integrated intelligence.</strong></p>
        <br>
        
        <div style="font-family: 'IBM Plex Sans', sans-serif; font-weight: 300; color: #023ad9; font-size: 1.1rem; line-height: 1.6; margin-bottom: 40px;">
        <p>Amatoria analyzes your site through four interconnected layers—nature, production, living, and culture—to reveal sustainable development opportunities that work for everyone, not just humans.</p>
          <div style="font-family: 'IBM Plex Sans', sans-serif; font-weight: 700; color: #023ad9; font-size: 1.1rem; line-height: 1.6; margin-bottom: 40px;">
              <br>
              
        <p><strong>How it works:</strong></p>
         <div style="font-family: 'IBM Plex Sans', sans-serif; font-weight: 300; color: #023ad9; font-size: 1.1rem; line-height: 1.6; margin-bottom: 40px;">
        <p>Start by inputting your site location and development goals. Our tool overlaps ecological, economic, social, and cultural data to create an interactive character map of your land's potential.</p>
        
        <p>Adjust key parameters through intuitive sliders—population density, biodiversity priorities, production methods, and cultural considerations—to explore different development scenarios.</p>
        
        <p>Get comprehensive assessments that move beyond standard practice to "not only human" solutions, complete with short and long-term projections, sustainability metrics, and actionable narratives for your project.</p>
           <div style="font-family: 'IBM Plex Sans', sans-serif; font-weight: 700; color: #023ad9; font-size: 1.1rem; line-height: 1.6; margin-bottom: 40px;">
               <br>
        <p><strong>Ready to see what's possible?</strong></p>
    </div>
    </div>
    </div>
    </div>
    </div>
  </div>

<!-- Reset to full width for the rest of the page -->
<div style="width: 100%; max-width: none;">
    <div id="app">
        <div id="sidebar">
            <h2>Site Basics</h2>
            
            <label for="plotName">Plot Name</label>
            <input type="text" id="plotName" placeholder="Enter plot name">
            
            <label for="plotLocation">Location</label>
            <input type="text" id="plotLocation" placeholder="Click on map to set location">
            
            <label for="plotArea">Area (m²)</label>
            <input type="number" id="plotArea" placeholder="Draw polygon or enter manually">
            
            <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #eee;">
                <h2 style="margin-bottom: 15px; color: #023ad9;">Development Vision</h2>
                
               <label for="developmentIntent">Development Intent</label>
            <select id="developmentIntent" style="width: 100%; margin-bottom: 10px;">
                <option value="">Select type...</option>
                <option value="residential-plot">Residential plot</option>
                <option value="community-garden">Community garden</option>
                <option value="rooftop-garden">Rooftop garden / rooftop farm</option>
                <option value="small-farm">Small farm (under 2 hectares)</option>
                <option value="medium-farm">Medium farm (2–20 hectares)</option>
                <option value="mixed-use-plot">Mixed-use plot (residential + commercial)</option>
                <option value="cultural-site">Cultural site (museum, heritage building, art space)</option>
                <option value="urban-green-space">Urban green space (parklet, plaza, micro-park)</option>
                <option value="forest-plot">Forest plot / rewilding area</option>
                <option value="wetland-plot">Wetland / water feature plot</option>
                <option value="agricultural-experimental">Agricultural experimental site</option>
                <option value="educational-site">Educational site (school garden, training farm)</option>
                <option value="commercial-agriculture">Commercial agriculture (greenhouse, hydroponics)</option>
                <option value="industrial-plot">Industrial plot (with green retrofit)</option>
                <option value="brownfield">Brownfield (for regeneration planning)</option>
            </select>
                
                <label for="timeline">Project Timeline</label>
                <select id="timeline" style="width: 100%; margin-bottom: 10px;">
                    <option value="">Select timeline...</option>
                    <option value="6months">6 months</option>
                    <option value="1year">1 year</option>
                    <option value="2-3years">2-3 years</option>
                    <option value="5+years">5+ years</option>
                    <option value="flexible">Flexible</option>
                </select>
                
            <label for="currency">Currency</label>
            <select id="currency" style="width: 100%; margin-bottom: 10px;">
                <option value="EUR">EUR (€)</option>
                <option value="USD">USD ($)</option>
                <option value="CHF">CHF (₣)</option>
                <option value="GBP">GBP (£)</option>
                <option value="CNY">CNY (¥)</option>
                <option value="JPY">JPY (¥)</option>
            </select>

            <label for="budget">Budget Range</label>
            <input type="range" id="budget" min="1" max="6" value="3" style="width: 100%; margin-bottom: 5px;">
            <div style="display: flex; justify-content: space-between; font-size: 11px; color: #666;">
                <span>500K</span>
                <span>2M</span>
                <span>10M</span>
                <span>20M+</span>
            </div>

                <label for="focusBalance" style="margin-top: 15px; display: block;">Priority Balance</label>
            <input type="range" id="focusBalance" min="1" max="10" value="5" style="width: 100%; margin-bottom: 5px;">
            <div style="display: flex; justify-content: space-between; font-size: 11px; color: #666;">
                <span>Profit Focus</span>
                <span>Balanced</span>
                <span>Planet Focus</span>
            </div>
                
            </div>
            
            <button id="savePlot">Save Plot</button>
            
            <div id="preview">
                <h3>Plot Factsheet</h3>
                <p><strong>Name:</strong> <span id="previewName">—</span></p>
                <p><strong>Location:</strong> <span id="previewLocation">—</span></p>
                <p><strong>Area:</strong> <span id="previewArea">—</span></p>
                <p><strong>Perimeter:</strong> <span id="previewPerimeter">—</span> m</p>
                <p><strong>Type:</strong> <span id="previewType">—</span></p>
                <p><strong>Coordinates:</strong> <span id="previewCoords">—</span></p>
                <p><strong>Intent:</strong> <span id="factsheet-intent">—</span></p>
                <p><strong>Timeline:</strong> <span id="factsheet-timeline">—</span></p>
                <p><strong>Budget:</strong> <span id="factsheet-budget">—</span></p>
                <p><strong>Focus:</strong> <span id="factsheet-focus">—</span></p>
                <button id="removePin">Remove Pin</button>
                
                <h3>Climate Data</h3>
                <pre id="previewClimateSidebar">—</pre>
            </div>
        </div>
        
        <div id="map" style="flex:1;height:100vh;"></div>
    </div>

   <div id="climate-dashboard" style="display: none;">
    <div class="dashboard">
            <!-- Current Conditions -->
            <div class="chart-container current-conditions">
                <h3>Current Conditions</h3>
                <div class="current-grid">
                    <div class="current-item">
                        <div class="label">Weather</div>
                        <div class="value">—</div>
                    </div>
                    <div class="current-item">
                        <div class="label">Temperature</div>
                        <div class="value">—</div>
                    </div>
                    <div class="current-item">
                        <div class="label">Humidity</div>
                        <div class="value">—</div>
                    </div>
                    <div class="current-item">
                        <div class="label">Wind Speed</div>
                        <div class="value">—</div>
                    </div>
                </div>
            </div>
            
            <!-- Climate Classification -->
            <div class="chart-container climate-classification">
                <h3>Climate Classification</h3>
                <div class="climate-type">—</div>
                <div class="climate-description">—</div>
                <div class="data-source">—</div>
            </div>
            
            <!-- Temperature Analysis -->
            <div class="chart-container">
                <h3>Temperature Analysis</h3>
                <canvas id="tempChart"></canvas>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="label">Temperature Range</div>
                        <div class="value">—</div>
                    </div>
                    <div class="info-item">
                        <div class="label">Hot Days/Year</div>
                        <div class="value">—</div>
                    </div>
                </div>
            </div>
            
            <!-- Temperature Extremes -->
            <div class="chart-container">
                <h3>Temperature Extremes</h3>
                <canvas id="extremesChart"></canvas>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="label">Frost Days/Year</div>
                        <div class="value">—</div>
                    </div>
                    <div class="info-item">
                        <div class="label">Growing Season</div>
                        <div class="value">—</div>
                    </div>
                </div>
            </div>
            
            <!-- Precipitation Analysis -->
            <div class="chart-container">
                <h3>Precipitation Analysis</h3>
                <canvas id="precipChart"></canvas>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="label">Annual Total</div>
                        <div class="value">—</div>
                    </div>
                    <div class="info-item">
                        <div class="label">Rainy Days/Year</div>
                        <div class="value">—</div>
                    </div>
                </div>
            </div>
            
            <!-- Wind Conditions -->
            <div class="chart-container">
                <h3>Wind Conditions</h3>
                <canvas id="windChart"></canvas>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="label">Wind Exposure</div>
                        <div class="value">—</div>
                    </div>
                    <div class="info-item">
                        <div class="label">Max Wind Speed</div>
                        <div class="value">—</div>
                    </div>
                </div>
            </div>
            
            <!-- Planning Notes -->
            <div class="chart-container planning-notes">
                <h3>Urban Planning & Agricultural Suitability</h3>
                <div class="notes-grid">
                    <div class="note-category">
                        <h4>Agricultural Suitability</h4>
                        <ul>
                            <li>Growing Season: —</li>
                            <li>Irrigation Needs: —</li>
                            <li>Heat Stress Risk: —</li>
                        </ul>
                    </div>
                    <div class="note-category">
                        <h4>Urban Planning Notes</h4>
                        <ul>
                            <li>Cooling Demand: —</li>
                            <li>Heating Demand: —</li>
                            <li>Drainage Planning: —</li>
                            <li>Green Infrastructure: —</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    
    <!-- External JavaScript libraries (load in correct order) -->
<script src="https://cdn.jsdelivr.net/npm/@turf/turf/turf.min.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-draw/dist/leaflet.draw.js"></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>  <!-- ADD THIS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        // Initialize charts after Chart.js is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Temperature Analysis Chart
            const tempCtx = document.getElementById('tempChart').getContext('2d');
            window.tempChart = new Chart(tempCtx, {
                type: 'bar',
                data: {
                    labels: ['Average', 'Avg Maximum', 'Avg Minimum', 'Winter Avg', 'Summer Avg'],
                    datasets: [{
                        label: 'Temperature (°C)',
                        data: [10.6, 14.1, 7.0, 13.9, 13.9],
                        backgroundColor: ['#023ad9', '#4a90e2', '#7bb3f5', '#a8d0f8', '#d1e7fc'],
                        borderColor: '#023ad9',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 0,
                            max: 20
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
            
            // Temperature Extremes Chart
            const extremesCtx = document.getElementById('extremesChart').getContext('2d');
            window.extremesChart = new Chart(extremesCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Hot Days (>30°C)', 'Frost Days (<0°C)', 'Normal Days'],
                    datasets: [{
                        data: [90, 710, -435],
                        backgroundColor: ['#ff6b6b', '#4ecdc4', '#45b7d1'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // Precipitation Chart
            const precipCtx = document.getElementById('precipChart').getContext('2d');
            window.precipChart = new Chart(precipCtx, {
                type: 'bar',
                data: {
                    labels: ['Winter', 'Summer', 'Annual Total (scaled)'],
                    datasets: [{
                        label: 'Precipitation (mm)',
                        data: [2359, 1190, 1874],
                        backgroundColor: ['#4ecdc4', '#45b7d1', '#023ad9'],
                        borderColor: '#023ad9',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
            
            // Wind Conditions Chart
            const windCtx = document.getElementById('windChart').getContext('2d');
            window.windChart = new Chart(windCtx, {
                type: 'radar',
                data: {
                    labels: ['Average Wind', 'Maximum Wind', 'Wind Exposure'],
                    datasets: [{
                        label: 'Wind Metrics',
                        data: [20.2, 74.1, 80],
                        backgroundColor: 'rgba(2, 58, 217, 0.2)',
                        borderColor: '#023ad9',
                        borderWidth: 2,
                        pointBackgroundColor: '#023ad9'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        });
    </script>
    
    <!-- Your custom JavaScript (must be last) -->
    <script src="./script.js"></script>
</body>
</html>
